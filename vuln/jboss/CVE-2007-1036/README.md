# Jboss 4.x JMX Console HtmlAdaptor Getshell (CVE-2007-1036)

## Introduction

The default configuration of JBoss does not restrict access to the (1) console and (2) web management interfaces, which allows remote attackers to bypass authentication and gain administrative access via direct requests.

## Setup

Run

```bash
docker-compose up
```

## Poc

Access to `http://localhost:8080/jmx-console/HtmlAdaptor?action=inspectMBean&name=jboss.admin%3Aservice%3DDeploymentFileRepository`, find the `store` method.

![1](images/1.png)

There has five field:

* p1: name of your war package
* p2: filename of your jsp file
* p3: suffix of your jsp file (just fix `jsp`)
* p4: jsp script content
* p5: fix `true`

## References

1. https://jbossas.jboss.org/downloads/
2. https://book.iwonder.run/0day/Jboss/%EF%BC%88CVE-2007-1036%EF%BC%89JMX%20Console%20HtmlAdaptor%20Getshell.html